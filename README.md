# 음원 가사 감성 분석

음원에 나와있는 가사 텍스트 데이터를 통해 

가사 텍스트에서 느껴지는 감정 정도를 분석합니다.

![image](https://user-images.githubusercontent.com/23625693/126462485-5e9bab8f-dd30-43cf-a869-477d5cce7c24.png)

## 한국어 가사

- 9가지의 감정 라벨로 분류

1. 사랑(love)
2. 즐거움(fun)
3. 열정(enthusiasm)
4. 행복(happyness)
5. 슬픔(sadness)
6. 분노(anger)
7. 외로움(lonely)
8. 그리움(logging)
9. 두려움(fear)

### 한국어 가사 분류 라벨을 9가지로 정한 이유
- 감정 연구의 대가 'Ekman'이 정의한 인간이 느낄 수 있는 가장 필수적이며 대표적인 감정 6가지를 바탕으로 함.( 행복 , 분노 , 슬픔 , 혐오 , 놀람 , 두려움 )
- 위 6가지 감정에서 텍스트로 표현될 수 없는 단어는 제거<br>
  '놀람'의 경우 ,텍스트에서 느껴지는 감정 보다는 표정으로 판단하는 경우가 많고 , 가사에 잘 등장하지 않는 감정
- 비슷한 감정 묶음 ('혐오' , '분노')
- 특정 장르 가사에서 자주 등장하는 감정 추가<br>
  '열정'의 경우 랩/힙합 장르에서 자주 등장하는 감정이기 때문에 추가<br>
  '그리움','외로움'의 경우 슬픈 발라드 장르에서 자주 등장하는 감정이기 떄문에 추가<br>
  '즐거움'의 경우 댄스 장르에서 자주 등장하는 감정이기 떄문에 추가<br>

가사 문장을 직접 라벨링하면서 등장 빈도를 고려하여 최종 9가지의 감정으로 선정하였다.

### 데이터 셋 
 총 15,327개의 소절 단위 가사 라벨링 데이터 셋

(1).가사를 문장 토큰화한 데이터 셋 : 8723 문장
  - 문서(가사) -> 문장(소절)
  - 문장(소절)에 대한 라벨링 진행 *감정이 느껴지지 않는 소절 제외
     ex) 니가 없어서 정말 슬픈걸 : sadness

(2). 가사 전체를 문장화한 데이터 셋 : 180곡 -> 6624 문장
  - 가사에 대한 감정 라벨링 -> 문장 토큰화
  ex) SG워너비 - 살다가 : 슬픔 ( '살다가'음원에 나온 가사 문장들은 전부 슬픔으로 라벨링 )

![image](https://user-images.githubusercontent.com/23625693/126469011-8a28bfce-b6fe-40cb-ac94-8b90c1e8dbe0.png)

문서(가사)단위에서 문장단위(소절)로 라벨링한 이유

뉴스 기사 카테고리 분류 처럼 가사 전체를 가지고 감정 분류를 진행할 수 있다.
하지만 가사 전체를 사용하지 않고 문장(소절)로 나누어서 그 결과를 합산하는 방법을 채택했고 그 이유는 다음과 같다.

 - 가사에서 느껴지는 감정은 한 가지가 될 수 없다. (가사에서는 여러가지 감정이 느껴진다.)
 - 가사는 뉴스처럼 서로 다른 클래스들과 차이가 크지 않다.(뉴스 기사 보다 특징이 뚜렷하지 않다.)
 - 한 가사에 여러라벨을 붙이면 어떤 감정이 가장 크게 느껴지는지에 대한 순위를 알 수 없다.
 - 한 가사에 여러라벨이 붙는 다면 학습하기(지도학습)가 매우 어렵다.
 - 문장(소절)단위로 쪼개서 합산하는 방법은 오분류률을 낮출 수 있다. *잘못분류해도 가사에는 여러문장이 있어 영향이 크지 않다. ( 가사 당 평균 33개의 문장 )

*실제로 가사 전체로 분류를 시도해보았지만 성능측면에서 문장(소절)으로 나누고 결과를 합산한 모델의 정확도가 더 높았습니다.

## 영어 가사

- 6가지의 감정 라벨로 분류

1. 놀람(Surprise)
2. 사랑(love)
3. 행복(happyness)
4. 슬픔(sadness)
5. 분노(anger)
6. 두려움(fear)

### 데이터 셋 : 

영어의 경우 직접라벨링 하지 않고 kaggle에 있는 데이터 셋을 가지고 진행하였습니다.

(1). Emotion Detection from Text : 총 40000개의 트위터 감정 데이터<br>
출처:https://www.kaggle.com/pashupatigupta/emotion-detection-from-text

트위터 데이터 셋 감정 라벨
- 총 13가지로 놀람,사랑,재밌는,열정,걱정,무감정,슬픔,화남, 싫은,행복,지루한,편안함,공허함

(2). Emotion dataset for NLP : 총 21000개의 평서문 감정 데이터<br>
출처:https://www.kaggle.com/praveengovi/emotions-dataset-for-nlp

평서문 데이터 셋 감정 라벨
- 총 6가지로 놀람 , 사랑 , 즐거움 , 슬픔 , 화남, 두려움

장점: 
- 직접 영어 가사 라벨링을 하지않고 많은 양의 데이터를 확보할 수 있음.

단점 : 
- 두 가지 데이터 셋 모두 한국어 처럼 가사도메인 데이터가 아님.
- 데이터 불균형이 심함
- 두 가지가 동일한 라벨을 가지고 있지 않음.

![image](https://user-images.githubusercontent.com/23625693/126472345-c655918b-a149-4425-b27b-910fda06ff00.png)

평서문 데이터 셋에 트위터 데이터 셋에 데이터를 추가하여 불균형 문제를 완화하고 라벨을 6가지로 고정함.

